<==> arguments
--migrate-deps

<==> input/entrypoint.scss
@import "midstream";

a {
  color: $mid-midvar;
  background: mid-midfn();
  @include mid-midmix;

  color: $upvar;
  background: upfn();
  @include upmix;
}

<==> input/_midstream.scss
$midvar: green;

@function midfn() {
  @return blue;
}

@mixin midmix {
  display: block;
}

<==> input/_midstream.import.scss
@forward "upstream.import";
@forward "midstream" as mid-*;

<==> input/_upstream.scss
$upvar: green;

@function upfn() {
  @return blue;
}

@mixin upmix {
  display: block;
}

<==> input/_upstream.import.scss
@forward "upstream";

<==> output/entrypoint.scss
@use "midstream";
@use "upstream";

a {
  color: midstream.$midvar;
  background: midstream.midfn();
  @include midstream.midmix;

  color: upstream.$upvar;
  background: upstream.upfn();
  @include upstream.upmix;
}
